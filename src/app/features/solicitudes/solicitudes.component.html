<!-- Container principal -->
<div class="min-h-screen bg-base-200 py-8 px-4">
  <div class="max-w-4xl mx-auto">
    <!-- Header del formulario -->
    <div class="text-center mb-8">
      <h1 class="text-4xl font-bold text-base-content mb-2">Formulario de Solicitudes</h1>
      <p class="text-base-content/70">Complete la informaci√≥n requerida para procesar su solicitud</p>
    </div>

    <!-- Card principal del formulario -->
    <div class="card bg-base-100 shadow-xl">
      <div class="card-body">
        <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-8">
          <!-- Secci√≥n: Informaci√≥n Personal -->
          <div>
            <div class="flex items-center gap-3 mb-6">
              <div class="badge badge-primary badge-lg">1</div>
              <h2 class="text-2xl font-semibold text-base-content">Informaci√≥n Personal</h2>
            </div>

            <!-- Grid responsivo para campos -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
              <!-- N√∫mero de Identificaci√≥n -->
              <div class="form-control w-full">
                <label class="label">
                  <span class="label-text font-medium">
                    <span class="text-error">*</span> N√∫mero de Identificaci√≥n
                  </span>
                </label>
                <input type="number" placeholder="Ej: 1234567890"
                  class="input input-bordered w-full focus:input-primary"
                  [class.input-error]="isFieldInvalid('identifycation')"
                  [class.input-success]="isFieldValid('identifycation')" id="identifycation"
                  formControlName="identifycation" />

                <!-- Mensajes de error -->
                <div class="label" *ngIf="isFieldInvalid('identifycation')">
                  <span class="label-text-alt text-error flex items-center gap-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                      stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    {{ getErrorMessage('identifycation') }}
                  </span>
                </div>
              </div>

              <!-- Nombre Completo -->
              <div class="form-control w-full">
                <label class="label">
                  <span class="label-text font-medium">
                    <span class="text-error">*</span> Nombre Completo
                  </span>
                </label>
                <input type="text" placeholder="Ingrese su nombre completo"
                  class="input input-bordered w-full focus:input-primary"
                  [class.input-error]="isFieldInvalid('fullName')" [class.input-success]="isFieldValid('fullName')"
                  id="fullName" formControlName="fullName" />

                <!-- Mensajes de error -->
                <div class="label" *ngIf="isFieldInvalid('fullName')">
                  <span class="label-text-alt text-error flex items-center gap-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                      stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    {{ getErrorMessage('fullName') }}
                  </span>
                </div>
              </div>

              <!-- Email -->
              <div class="form-control w-full">
                <label class="label">
                  <span class="label-text font-medium">
                    <span class="text-error">*</span> Correo Electr√≥nico
                  </span>
                </label>
                <input type="email" placeholder="ejemplo@correo.com"
                  class="input input-bordered w-full focus:input-primary" [class.input-error]="isFieldInvalid('email')"
                  [class.input-success]="isFieldValid('email')" id="email" formControlName="email" />

                <!-- Mensajes de error -->
                <div class="label" *ngIf="isFieldInvalid('email')">
                  <span class="label-text-alt text-error flex items-center gap-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                      stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    {{ getErrorMessage('email') }}
                  </span>
                </div>
              </div>

              <!-- √Årea de Trabajo -->
              <div class="form-control w-full">
                <label class="label">
                  <span class="label-text font-medium">
                    <span class="text-error">*</span> √Årea de Trabajo
                  </span>
                </label>
                <input type="text" placeholder="Ej: Recursos Humanos, IT, Contabilidad"
                  class="input input-bordered w-full focus:input-primary" [class.input-error]="isFieldInvalid('area')"
                  [class.input-success]="isFieldValid('area')" id="area" formControlName="area" />

                <!-- Mensajes de error -->
                <div class="label" *ngIf="isFieldInvalid('area')">
                  <span class="label-text-alt text-error flex items-center gap-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                      stroke="currentColor">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    {{ getErrorMessage('area') }}
                  </span>
                </div>
              </div>
            </div>

            <!-- Fecha - Campo completo -->
            <div class="form-control w-full max-w-md mt-6">
              <label class="label">
                <span class="label-text font-medium">
                  <span class="text-error">*</span> Fecha de Solicitud
                </span>
              </label>
              <input type="date" class="input input-bordered w-full focus:input-primary"
                [class.input-error]="isFieldInvalid('date')" [class.input-success]="isFieldValid('date')" id="date"
                formControlName="date" />

              <!-- Mensajes de error -->
              <div class="label" *ngIf="isFieldInvalid('date')">
                <span class="label-text-alt text-error flex items-center gap-1">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  {{ getErrorMessage('date') }}
                </span>
              </div>
            </div>
          </div>

          <!-- Divider elegante -->
          <div class="divider divider-primary">
            <div class="badge badge-primary badge-outline">Detalles de la Solicitud</div>
          </div>

          <!-- Secci√≥n: Detalles de Solicitud -->
          <div>
            <div class="flex items-center gap-3 mb-6">
              <div class="badge badge-secondary badge-lg">2</div>
              <h2 class="text-2xl font-semibold text-base-content">Detalles de la Solicitud</h2>
            </div>

            <!-- Tipo de Solicitud -->
            <div class="form-control w-full max-w-md mb-6">
              <label class="label">
                <span class="label-text font-medium">
                  <span class="text-error">*</span> Tipo de Solicitud
                </span>
              </label>
              <select class="select select-bordered w-full focus:select-primary"
                [class.select-error]="isFieldInvalid('typeDescription')"
                [class.select-success]="isFieldValid('typeDescription')" id="typeDescription"
                formControlName="typeDescription">
                <option disabled selected>Seleccione el tipo de solicitud</option>
                <option value="1">üîß Solicitud de Mantenimiento</option>
                <option value="2">üìã Solicitud de Reclamo</option>
                <option value="3">‚ùì Solicitud de Consulta</option>
              </select>

              <!-- Mensajes de error -->
              <div class="label" *ngIf="isFieldInvalid('typeDescription')">
                <span class="label-text-alt text-error flex items-center gap-1">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  {{ getErrorMessage('typeDescription') }}
                </span>
              </div>
            </div>

            <!-- Descripci√≥n -->
            <div class="form-control w-full">
              <label class="label">
                <span class="label-text font-medium">
                  <span class="text-error">*</span> Descripci√≥n de la Solicitud
                </span>
                <span class="label-text-alt">M√°ximo 500 caracteres</span>
              </label>
              <textarea class="textarea textarea-bordered h-32 resize-none focus:textarea-primary"
                [class.textarea-error]="isFieldInvalid('description')"
                [class.textarea-success]="isFieldValid('description')"
                placeholder="Describa detalladamente su solicitud. Incluya toda la informaci√≥n relevante que pueda ayudar a procesar su petici√≥n de manera eficiente..."
                id="description" formControlName="description" maxlength="500"></textarea>

              <!-- Contador de caracteres y mensajes de error -->
              <div class="label">
                <span class="label-text-alt text-error flex items-center gap-1" *ngIf="isFieldInvalid('description')">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                  </svg>
                  {{ getErrorMessage('description') }}
                </span>
                <span class="label-text-alt">{{ getCharacterCount() }}/500 caracteres</span>
              </div>
            </div>
          </div>

          <!-- Alert de errores generales (cuando hay errores m√∫ltiples) -->
          <div class="alert alert-error" *ngIf="showFormErrors && !form.valid">
            <svg xmlns="http://www.w3.org/2000/svg" class="stroke-current shrink-0 h-6 w-6" fill="none"
              viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
            <div>
              <h3 class="font-bold">¬°Hay errores en el formulario!</h3>
              <div class="text-xs">Por favor, revise los campos marcados en rojo y corrija los errores antes de
                continuar.</div>
            </div>
          </div>

          <!-- Alert informativo -->
          <div class="alert alert-info">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
              class="stroke-current shrink-0 w-6 h-6">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <div>
              <h3 class="font-bold">Informaci√≥n importante</h3>
              <div class="text-xs">Los campos marcados con (*) son obligatorios. Su solicitud ser√° procesada en un plazo
                m√°ximo de 3 d√≠as h√°biles.</div>
            </div>
          </div>

          <!-- Botones de acci√≥n -->
          <div class="card-actions justify-end pt-4">
            <div class="flex flex-col sm:flex-row gap-4 w-full sm:w-auto">

              <!-- Bot√≥n Salir -->
              <button type="button" class="btn btn-ghost btn-lg flex-1 sm:flex-none order-2 sm:order-1"
                routerLink="/home">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                  stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                </svg>
                Volver al Inicio
              </button>

              <!-- Bot√≥n Enviar -->
              <button type="submit" class="btn btn-primary btn-lg flex-1 sm:flex-none order-1 sm:order-2"
                [class.loading]="enviando" [disabled]="enviando">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                  stroke="currentColor" *ngIf="!enviando">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                    d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                </svg>
                {{ enviando ? 'Enviando...' : 'Enviar Solicitud' }}
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
