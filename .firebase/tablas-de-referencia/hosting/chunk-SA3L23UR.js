import{a as F}from"./chunk-INE7A7RP.js";import{a as K,b as J}from"./chunk-7RAINC4N.js";import{a as O,c as B,f as U,s as q}from"./chunk-OQWTK6WD.js";import"./chunk-VDXRCH7B.js";import{B as c,D as b,E as v,I,L as S,M as V,N as e,O as t,P as o,Q as H,R as p,S as N,U as i,V as f,X as z,Y as L,Z as j,a as y,aa as P,e as W,fa as R,g as T,ha as g,na as G,t as A,u as D,v as s,w as d,y as h}from"./chunk-CPJZ35ZK.js";var x=class m{descripcion="";respuestaIA="";visible=!1;close=new h;save=new h;onSave(){this.save.emit(this.respuestaIA)}onClose(){this.close.emit()}static \u0275fac=function(n){return new(n||m)};static \u0275cmp=v({type:m,selectors:[["app-modal"]],inputs:{descripcion:"descripcion",respuestaIA:"respuestaIA",visible:"visible"},outputs:{close:"close",save:"save"},decls:24,vars:4,consts:[[1,"modal"],[1,"modal-backdrop","backdrop-blur-sm",3,"click"],[1,"modal-box","max-w-4xl","relative","bg-base-100","shadow-2xl","p-0"],[1,"flex","items-center","justify-between","p-6","border-b","border-base-200"],[1,"text-2xl","font-bold","text-primary"],[1,"btn","btn-sm","btn-circle","btn-ghost",3,"click"],[1,"p-6","space-y-6"],[1,"form-control","w-full"],[1,"label"],[1,"label-text","font-semibold"],["type","text","readonly","",1,"input","input-bordered","w-full","bg-base-200","cursor-not-allowed",3,"value"],["rows","8","placeholder","Escribe la respuesta aqu\xED...",1,"textarea","textarea-bordered","w-full","font-mono","text-sm",3,"ngModelChange","ngModel"],[1,"modal-action","p-6","border-t","border-base-200"],[1,"btn","btn-ghost",3,"click"],[1,"btn","btn-primary",3,"click"]],template:function(n,a){n&1&&(e(0,"div",0)(1,"div",1),p("click",function(){return a.onClose()}),t(),e(2,"div",2)(3,"div",3)(4,"h2",4),i(5,"Actualizar Respuesta IA"),t(),e(6,"button",5),p("click",function(){return a.onClose()}),i(7," \u2715 "),t()(),e(8,"div",6)(9,"div",7)(10,"label",8)(11,"span",9),i(12,"Descripci\xF3n:"),t()(),o(13,"input",10),t(),e(14,"div",7)(15,"label",8)(16,"span",9),i(17,"Respuesta IA:"),t()(),e(18,"textarea",11),j("ngModelChange",function(u){return L(a.respuestaIA,u)||(a.respuestaIA=u),u}),t()()(),e(19,"div",12)(20,"button",13),p("click",function(){return a.onClose()}),i(21," Cancelar "),t(),e(22,"button",14),p("click",function(){return a.onSave()}),i(23," Guardar Cambios "),t()()()()),n&2&&(V("modal-open",a.visible),c(13),S("value",a.descripcion),c(5),z("ngModel",a.respuestaIA))},dependencies:[g,q,O,B,U],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;justify-content:center;align-items:center}.modal-container[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;width:400px}.readonly-input[_ngcontent-%COMP%]{width:100%;padding:8px;background:#f3f3f3;border:1px solid #ccc}textarea[_ngcontent-%COMP%]{width:100%;padding:8px;resize:vertical}.modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:8px;margin-top:10px}"],changeDetection:0})};var k=W(K());function Q(m,l){if(m&1){let n=H();e(0,"tr")(1,"th"),i(2),t(),e(3,"td",4),i(4),t(),e(5,"td"),i(6),t(),e(7,"td",4),i(8),t(),e(9,"td",4),i(10),t(),e(11,"td",4),i(12),t(),e(13,"td")(14,"button",5),p("click",function(){let r=A(n).$implicit,u=N();return D(u.abrirModal(r))}),o(15,"i",6),e(16,"span",7),i(17,"Actualizar"),t()()()()}if(m&2){let n=l.$implicit,a=l.index;c(2),f(a+1),c(2),f(n.fullName),c(2),f(n.area),c(2),f(n.typeDescription),c(2),f(n.description),c(2),f(n.respuestaIA)}}var E=class m{constructor(l,n){this.solicitudesService=l;this.cdr=n}descripcion="respuesta API";respuestaIA="respuesta IA";modalVisible=!1;solicitude=[];solicitudSeleccionada=null;ngOnInit(){this.solicitudesService.listarSolicitudes().subscribe(l=>{this.solicitude=l.solicitudes,console.log("Datos aqui estan: ",this.solicitude),this.cdr.detectChanges()})}abrirModal(l){this.solicitudSeleccionada=y({},l),this.modalVisible=!0}cerrarModal(){this.modalVisible=!1,this.solicitudSeleccionada=null}guardarRespuesta(l){this.solicitudSeleccionada&&this.solicitudesService.actualizarRespuesta(this.solicitudSeleccionada.id,l).subscribe({next:n=>{console.log("Respuesta actualizada: ",n);let a=this.solicitude.find(r=>r.id===this.solicitudSeleccionada?.id);a&&(a.respuestaIA=l),this.cdr.detectChanges(),k.default.fire({icon:"success",title:"\xA1\xC9xito!",text:"La respuesta se ha guardado correctamente, Recuerda que esta respuesta el Usuario la recibi\xE1 por Correo electr\xF3nico",showConfirmButton:!0,confirmButtonText:"Aceptar"}).then(r=>{r.isConfirmed&&this.cerrarModal()})},error:n=>{console.error("Error detallado:",n),k.default.fire({icon:"error",title:"Error",text:"No se pudo guardar la respuesta",showConfirmButton:!0})}})}static \u0275fac=function(n){return new(n||m)(b(J),b(P))};static \u0275cmp=v({type:m,selectors:[["tabla-solicitudes"]],decls:21,vars:4,consts:[[1,"overflow-x-auto","w-full"],[1,"table","table-zebra","w-full","min-w-max"],[4,"ngFor","ngForOf"],[3,"close","save","descripcion","respuestaIA","visible"],[1,"whitespace-normal","break-words","max-w-xs"],[1,"btn","btn-sm","btn-primary","flex","items-center","gap-2",3,"click"],[1,"fa","fa-edit"],[1,"hidden","sm:inline"]],template:function(n,a){if(n&1&&(e(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th"),i(5,"#"),t(),e(6,"th"),i(7,"Nombre Solicitante"),t(),e(8,"th"),i(9,"\xC1rea"),t(),e(10,"th"),i(11,"Tipo de solicitud"),t(),e(12,"th"),i(13,"Descripci\xF3n"),t(),e(14,"th"),i(15,"Respuesta"),t(),e(16,"th"),i(17,"Acciones"),t()()(),e(18,"tbody"),I(19,Q,18,6,"tr",2),t()(),e(20,"app-modal",3),p("close",function(){return a.cerrarModal()})("save",function(u){return a.guardarRespuesta(u)}),t()()),n&2){let r,u;c(19),S("ngForOf",a.solicitude),c(),S("descripcion",(r=a.solicitudSeleccionada==null?null:a.solicitudSeleccionada.description)!==null&&r!==void 0?r:"")("respuestaIA",(u=a.solicitudSeleccionada==null?null:a.solicitudSeleccionada.respuestaIA)!==null&&u!==void 0?u:"")("visible",a.modalVisible)}},dependencies:[g,R,x],styles:["[_nghost-%COMP%]{display:block}"]})};var C=class m{logoutEvent=new h;onLogout(){this.logoutEvent.emit()}static \u0275fac=function(n){return new(n||m)};static \u0275cmp=v({type:m,selectors:[["app-navbar"]],outputs:{logoutEvent:"logoutEvent"},decls:122,vars:0,consts:[[1,"bg-[rgb(30,35,41)]"],[1,"navbar","bg-base-200","shadow-lg","border-b","border-base-300"],[1,"navbar-start"],[1,"dropdown"],["tabindex","0","role","button",1,"btn","btn-ghost","lg:hidden"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 6h16M4 12h8m-8 6h16"],["tabindex","0",1,"menu","menu-sm","dropdown-content","mt-3","z-[1]","p-2","shadow","bg-base-200","rounded-box","w-52"],[1,"flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m7 7l5 5l5-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 7a4 4 0 11-8 0a4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v4a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],[1,"flex","items-center","gap-3","lg:hidden"],[1,"avatar","placeholder"],[1,"bg-primary","text-primary-content","rounded-full","w-10"],[1,"text-sm","font-bold"],[1,"flex","flex-col"],[1,"text-sm","font-medium"],[1,"text-xs","opacity-70"],[1,"hidden","lg:flex"],[1,"menu","menu-horizontal","px-1"],[1,"navbar-center","hidden","lg:flex"],[1,"text-xl","font-bold","text-primary"],[1,"navbar-end","gap-2"],[1,"dropdown","dropdown-end"],["tabindex","0","role","button",1,"btn","btn-ghost","btn-circle","avatar"],[1,"w-8","rounded-full","bg-primary","text-primary-content"],[1,"text-xs"],[1,"flex","items-center","gap-2","p-2"],[1,"avatar"],[1,"font-medium"],[1,"divider","my-1"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex","items-center","gap-2","text-error",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"]],template:function(n,a){n&1&&(e(0,"body",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),s(),e(5,"svg",5),o(6,"path",6),t()(),d(),e(7,"ul",7)(8,"li")(9,"a",8),s(),e(10,"svg",9),o(11,"path",10)(12,"path",11),t(),i(13," Dashboard "),t()(),d(),e(14,"li")(15,"a",8),s(),e(16,"svg",9),o(17,"path",12),t(),i(18," Solicitudes "),t()(),d(),e(19,"li")(20,"a",8),s(),e(21,"svg",9),o(22,"path",13),t(),i(23," Usuarios "),t()(),d(),e(24,"li")(25,"a",8),s(),e(26,"svg",9),o(27,"path",14),t(),i(28," Reportes "),t()(),d(),e(29,"li")(30,"a",8),s(),e(31,"svg",9),o(32,"path",15)(33,"path",16),t(),i(34," Configuraci\xF3n "),t()()()(),d(),e(35,"div",17)(36,"div",18)(37,"div",19)(38,"span",20),i(39,"AD"),t()()(),e(40,"div",21)(41,"span",22),i(42,"Bienvenido,"),t(),e(43,"span",23),i(44,"Administrador"),t()()(),e(45,"div",24)(46,"ul",25)(47,"li")(48,"a",8),s(),e(49,"svg",9),o(50,"path",10)(51,"path",11),t(),i(52," Dashboard "),t()(),d(),e(53,"li")(54,"a",8),s(),e(55,"svg",9),o(56,"path",12),t(),i(57," Solicitudes "),t()(),d(),e(58,"li")(59,"a",8),s(),e(60,"svg",9),o(61,"path",13),t(),i(62," Usuarios "),t()()()()(),d(),e(63,"div",26)(64,"span",27),i(65,"Dashboard Administrativo"),t()(),e(66,"div",28)(67,"div",24)(68,"ul",25)(69,"li")(70,"a",8),s(),e(71,"svg",9),o(72,"path",14),t(),i(73," Reportes "),t()(),d(),e(74,"li")(75,"a",8),s(),e(76,"svg",9),o(77,"path",15)(78,"path",16),t(),i(79," Configuraci\xF3n "),t()()()(),d(),e(80,"div",29)(81,"div",30)(82,"div",31)(83,"span",32),i(84,"JD"),t()()(),e(85,"ul",7)(86,"li")(87,"div",33)(88,"div",34)(89,"div",31)(90,"span",32),i(91,"JD"),t()()(),e(92,"div",21)(93,"span",35),i(94,"Juan P\xE9rez"),t(),e(95,"span",23),i(96,"Administrador"),t()()()(),e(97,"li"),o(98,"div",36),t(),e(99,"li")(100,"a",8),s(),e(101,"svg",9),o(102,"path",13),t(),i(103," Mi Perfil "),t()(),d(),e(104,"li")(105,"a",8),s(),e(106,"svg",9),o(107,"path",15)(108,"path",16),t(),i(109," Configuraci\xF3n "),t()(),d(),e(110,"li")(111,"a",8),s(),e(112,"svg",9),o(113,"path",37),t(),i(114," Ayuda "),t()(),d(),e(115,"li"),o(116,"div",36),t(),e(117,"li")(118,"a",38),p("click",function(){return a.onLogout()}),s(),e(119,"svg",9),o(120,"path",39),t(),i(121," Cerrar Sesi\xF3n "),t()()()()()()())},styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})};var _=class m{constructor(l,n){this.authService=l;this.router=n;this.userData=this.authService.getUser()}userData;logout(){return T(this,null,function*(){yield this.authService.logout(),this.router.navigate(["/login"])})}static \u0275fac=function(n){return new(n||m)(b(F),b(G))};static \u0275cmp=v({type:m,selectors:[["app-admin"]],decls:5,vars:0,consts:[[1,"container-fluid","mt-3","pt-5"],[3,"logoutEvent"]],template:function(n,a){n&1&&(e(0,"div",0)(1,"section")(2,"app-navbar",1),p("logoutEvent",function(){return a.logout()}),t()(),e(3,"section"),o(4,"tabla-solicitudes"),t()())},dependencies:[C,E],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0})};var _e=[{path:"",component:_}];export{_e as routes};
